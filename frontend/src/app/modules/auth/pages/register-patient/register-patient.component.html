<section class="min-h-screen bg_blue_shadow">
  <shared-navbar [showOptions]="false"></shared-navbar>
  <section class="content_register flex items-center justify-center flex-col">
    <section class="neumorphic p-8 font-poppins">
      <section class="flex justify-between gap-10 items-center">
        <article class="flex flex-col items-start gap-3">
          <h1 class="text-2xl text-white">Registrate como paciente</h1>
          <form
            [formGroup]="formData"
            (ngSubmit)="submitForm()"
            class="flex flex-col gap-2"
          >
            <div class="flex gap-3 flex-wrap">
              <div class="flex flex-col gap-2">
                <label for="firstName">Primer nombre:</label>
                <input
                  type="text"
                  id="firstName"
                  formControlName="firstName"
                  class="w-[200px] h-10 border px-2 border-gray-300 rounded-lg"
                />
                <div
                  *ngIf="
                    f.firstName.invalid &&
                    (f.firstName.dirty || f.firstName.touched)
                  "
                >
                  <div *ngIf="f.firstName.errors.required">
                    Primer nombre es requerido
                  </div>
                </div>
              </div>

              <div class="flex flex-col gap-2">
                <label for="secondName">Segundo nombre:</label>
                <input
                  type="text"
                  id="secondName"
                  formControlName="secondName"
                  class="w-[200px] h-10 border px-2 border-gray-300 rounded-lg"
                />
                <div
                  *ngIf="
                    f.secondName.invalid &&
                    (f.secondName.dirty || f.secondName.touched)
                  "
                >
                  <div *ngIf="f.secondName.errors.required">
                    Segundo nombre es requerido
                  </div>
                </div>
              </div>
            </div>

            <div class="flex gap-3 flex-wrap">
              <div class="flex flex-col gap-2">
                <label for="lastName">Apellidos:</label>
                <input
                  type="text"
                  id="lastName"
                  formControlName="lastName"
                  class="w-[200px] h-10 border px-2 border-gray-300 rounded-lg"
                />
                <div
                  *ngIf="
                    f.lastName.invalid &&
                    (f.lastName.dirty || f.lastName.touched)
                  "
                >
                  <div *ngIf="f.lastName.errors.required">
                    Apellidos son requeridos
                  </div>
                </div>
              </div>

              <div class="flex flex-col gap-2">
                <label for="DNI">DNI:</label>
                <input
                  type="text"
                  id="DNI"
                  formControlName="DNI"
                  class="w-[200px] h-10 border px-2 border-gray-300 rounded-lg"
                />
                <div *ngIf="f.DNI.invalid && (f.DNI.dirty || f.DNI.touched)">
                  <div *ngIf="f.DNI.errors.required">DNI es requerido</div>
                  <div *ngIf="f.DNI.errors.pattern">
                    DNI debe contener solo números
                  </div>
                  <div *ngIf="f.DNI.errors.maxLength || f.DNI.errors.minLength">
                    DNI debe tener entre 7 y 9 dígitos
                  </div>
                </div>
              </div>
            </div>
            <div class="flex gap-3 flex-wrap">
              <div class="flex flex-col gap-2">
                <label for="phoneNumber">Número de Teléfono:</label>
                <input
                  type="text"
                  id="phoneNumber"
                  formControlName="phoneNumber"
                  class="w-[200px] h-10 border px-2 border-gray-300 rounded-lg"
                />
                <div
                  *ngIf="
                    f.phoneNumber.invalid &&
                    (f.phoneNumber.dirty || f.phoneNumber.touched)
                  "
                >
                  <div *ngIf="f.phoneNumber.errors.required">
                    Número de Teléfono es requerido
                  </div>
                  <div *ngIf="f.phoneNumber.errors.pattern">
                    Número de Teléfono debe ser solo números
                  </div>
                </div>
              </div>
              <div class="flex flex-col gap-2">
                <!-- DateOfBirth -->
                <label for="dateOfBirth">Dia de nacimiento:</label>
                <input
                  type="date"
                  id="dateOfBirth"
                  formControlName="dateOfBirth"
                  class="w-[200px] h-10 border px-2 border-gray-300 rounded-lg"
                />
                <div
                  *ngIf="
                    f.dateOfBirth.invalid &&
                    (f.dateOfBirth.dirty || f.dateOfBirth.touched)
                  "
                >
                  <div *ngIf="f.dateOfBirth.errors.required">
                    Date of Birth es requerido
                  </div>
                  <div *ngIf="f.dateOfBirth.errors.futureDate">
                    La fecha de nacimiento no puede ser futura
                  </div>
                </div>
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <label for="email">Email:</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="w-full h-10 border px-2 border-gray-300 rounded-lg"
              />
              <div
                *ngIf="f.email.invalid && (f.email.dirty || f.email.touched)"
              >
                <div *ngIf="f.email.errors.required">Email es requerido</div>
                <div *ngIf="f.email.errors.email">
                  Formato de email inválido
                </div>
              </div>
            </div>

            <div class="flex flex-col gap-2">
              <label for="password">Contraseña:</label>
              <input
                type="password"
                id="password"
                formControlName="password"
                class="w-full h-10 border px-2 border-gray-300 rounded-lg"
              />
              <div
                *ngIf="
                  f.password.invalid && (f.password.dirty || f.password.touched)
                "
              >
                <div *ngIf="f.password.errors.required">
                  Password es requerido
                </div>
                <div *ngIf="f.password.errors.minlength">
                  Password debe minimo 8 caracteres
                </div>
              </div>
            </div>

            <div class="flex gap-3">
              <input
                type="checkbox"
                id="aceptoTerminos"
                formControlName="aceptoTerminos"
              />
              <label for="aceptoTerminos"
                >Acepto los Términos y Condiciones</label
              >
            </div>

            <div class="flex justify-center">
              <button
                type="submit"
                class="px-5 py-3 rounded-full flex items-center justify-center gap-3"
                [ngClass]="{
                  'bg-accent-light text-primary-dark font-poppins text-base font-semibold':
                    !isDisabled,
                  'bg-[#D7D7D7] text-gray-600 cursor-not-allowed font-bold':
                    isDisabled
                }"
                [disabled]="isDisabled"
              >
                Crear cuenta
              </button>
            </div>
          </form>
        </article>
        <img
          src="../../../../../assets/image-png/reserva-citas-calendario.png"
          alt="logo-calendario-citas"
          class="hidden lg:block h-64"
        />
      </section>
    </section>
  </section>
</section>

<router-outlet></router-outlet>
